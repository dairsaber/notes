## 常用注解

- Ioc
- DI
- 第三方资源
- properties文件
- 团队开发
- 注解驱动

## 启动注解

- 启动注解扫描,加载类中配置注解香

  ```xml
  <context:component-scan base-package="packageName"/>
  ```

- 说明

  - 在进行包所扫描时, 会对配置的包及其子包中所有文件进行扫描
  - 扫描过程是以文件夹递归迭代进行的
  - 扫描过程仅读取合法的java文件
  - 扫描时仅读取spring可识别的注解
  - 扫描结束后将可识别的有效注解转化为spring对应的资源加入IoC容器

- 注意

  - 无论是注解格式还是XML配置格式,最终都是将资源加载到IoC容器中,差别仅仅是数据读取方式不同
  - 从加载效率上来说注解优于XML配置文件

## bean的定义

### 1. 常用的

- 名称: @Component @Controller @Service @Repostory

- 类型:**类注解**

- 位置: 类定义上方

- 作用: 设置该类为spring 管理的bean

- 范例

  ```java
  @Component("xxxid")
  public class ClassName{}
  ```

- 说明

  - @Component, @Service, @Repository 是 @Component 的衍生注解, 功能同@Component

- 相关属性

  - value(默认): 定义bean访问的id

### 2. @Scope

- 名称:@Scope

- 类型: 类注解

- 位置: 类定义上方

- 作用: 设置该类作为bean对应的scope属性

- 范例

  ```java
  @Scope
  public class ClassName()
  ```

- 相关属性

  - value: 定义bean的作用域,默认为singleton

### 3. bean的生命周期

- 名称: @PostConstruct, @PreDestroy

- 类型: 方法注解

- 位置: 方法定义上方

- 作用: 设置该类作为bean对应的生命周期方法

- 范例

  ```java
  @PostConstruct
  public void init() {System.out.println("init ... ")}
  ```

  

## 加载第三方资源

- 名称: @Bean

- 类型: 方法注解

- 位置: 方法定义上方

- 作用: 设置方法的返回值作为spring管理的bean

- 范例

  ```java
  @Bean("dataSource")
  public DruidDataSource createDataSource(
  	return ...;
  )
  ```

- 说明:

  - 因为第三方bean无法在其源码上进行修改,使用@Bean解决第三方bean的引入问题
  - 该注解用于替代XML配置中静态工厂与实例工厂创建bean, 不区分方法是否为静态或这非静态
  - @Bean所在的类必须呗spring扫描加载, 否则注解无法生效

- 相关属性

  - value: 定义bean的访问id

## 简单的实例

[SpringAnnotationDemo](./sources/SpringAnnotationDemo)

